{% extends 'base.html.twig' %}

{% block title %}Gestion de mes Animaux ‚Ä¢ Liste de mes √©v√®nements{% endblock %}

{% block body %}
<div class="home-wrapper">

   <h2 class="home-title-top text-white">Liste de mes √©v√®nements</h2>
   <table class="table">
      <thead>
          <tr>
              <th>ID</th>
              <th>Nom</th>
              <th>Commentaire</th>

              <th>Cat√©gorie</th>
              <th>Statut</th>
              <th>Priorit√©</th>

              <th>D√©but</th>
              <th>Dur√©e</th>
              <th>Utilisateur</th>
              <th>Nb</th>
              <th>Animaux</th>
              <th class="actions-col-event-list">Actions</th>
          </tr>
      </thead>
      <tbody>
          {% for event in events %}
              <tr>
                 <td>{{ event.id }}</td>
                 <td>{{ event.name }}</td>
                 <td>{{ event.comment }}</td>

                 <td>{{ event.category.name }}</td>
                 <td>{{ event.status.name }}</td>
                 <td>{{ event.priority.name }}</td>

                 <td>{{ event.start|date('d/m/Y') }}</td>
                 <td>{{ event.duration }}</td>
                 <td>{{ event.user.pseudo }}</td>
                 <td>{{ event.patternsNumber == 0 ? '<span class="infinity-char">‚àû</span>' : event.patternsNumber }}</td>
                 <td>
                 <select class="select">
                 {% for animal in event.animals %}
                    <option class="option" value={{ animal.id }}>{{ animal.category.emoticon }} {{ animal.name }}</option>
                    {% else %}
                 {% endfor %}
                 
                 </select>
                 </td>
                 <td  class="actions-col-event-list">
                    <a href="{{ path('app_event_show', {'id': event.id}) }}" class="link-event-list"><span class="action-event-list">üëÅ</span></a>
                    <a href="{{ path('app_event_edit', {'id': event.id}) }}" class="link-event-list"><span class="action-event-list">‚úé</span></a>
                 </td>
              </tr>
          {% else %}
              <tr>
                 <td colspan="10">Aucun √©v√®nement trouv√©.</td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
  <a class="btn-form" href="{{ path('app_event_new') }}">Cr√©er un √©v√®nement</a>
  <a class="btn-form" href="{{ path('app_home') }}">Retour √† l'accueil</a>

</div>
{% endblock %}
